# HSE Observer v2 (Обновленная)
Система наблюдения за проишествиями.

# Статус проекта

В разработке

# Из чего состоит проект

В проекте используется Back End и Front End

Back End на базе NodeJS + MongoDB, а так же имеется возможность авторизации через Active Directory


# Как запустить?

## Конфигурация проекта

### Back End
```
./back-end/config/index.js
```
необходимо заполнить своими конфигурационными данными

### Front End
```
./front-end/.env
./front-end/.env.development
./front-end/.env.production
```
.env.production - надо будет самостоятельно создать и заполнить production данными вашего проекта


## Инициализация
Перед запуском проекта HSE Observer, необходимо иметь минимальные данные в базе данных для авторизации в системе и дальнейшей ее настройки.
Для того чтобы инициализировать необходимо выполните следующее:
```
cd back-end
md-seeed run -d
```
эта команда выполнит следующее:

* создаст таблицу roles с тремя ролями: Администратор, Наблюдатель, Стандартный
* создаст таблицу branches с одной записью: iSmarty Branch
* создаст таблицу departments с одной записью: Developer
* создаст таблицу users c одной записью: admin

После чего можно будет авторизоваться в системе, административной учетной записью (имя пользователя: admin, пароль: admin) и выполнить необходимые настройки под вашу компанию (создание Объекты, Отделы, Пользователи). Роли нельзя создавать они статичны.

## Запуск проекта

Back End
```
cd back-end
npm run dev
```

Front-End
```
cd front-end
npm run serve
```

каждый проект запуститься со


# Дополнения
## MD-SEED
Для того чтобы работал md-seed, необходимо установить его:
```
npm i mongoose-data-seed -g
```

## Roles
так как будут использоваться статические роли, лучше всего отключить возможность добавления роли, оставить только редактирование названия роли


## HTTP Status Codes
Source: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status#client_error_responses

### Основные статус коды, которые испльзуются в системе
```
200 - Success
201 - Created
404 - Not Found
400 - Bad request
401 - Unauthorized
403 - Forbidden
404 - Not Found
405 - Method not allowed
409 - Conflict
```

# Задачи
- [x] пользователь admin, должен иметь все Роли, чтобы были доступны все опции;
- [ ] https://github.com/iSmartyPRO/hse-observer-v2/issues/1
- [ ] при открытии опции Наблюдения и если данные отсутствуют, то появляется всплывающее окно Backend error Not found, DataNotFound - это не правильно, всплывающего окна с ошибкой не должно быть.
- [ ] Генератор пользователей - генерация 5-6 тестовых пользователей, при помощи которых можно выполнять тесты;
- [ ] функционал Наблюдения;
- [ ] уведомление на почту;
- [ ] генерация QR кодов;
- [ ] генерация PDF файлов из Наблюдения;
- [ ] функционал Отчёты;
- [ ] аналитика, на основе имеющихся данных отображать графиками на главной странице.